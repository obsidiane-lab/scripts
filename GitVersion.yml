workflow: GitFlow/v1

commit-message-incrementing: MergeMessageOnly   # ou Enabled si vous préférez
major-version-bump-message: '(?i)#(major|majeur)\b'
minor-version-bump-message: '(?i)#(minor|mineur)\b'
patch-version-bump-message: '(?i)#(fix|patch)\b'
no-bump-message: '(?i)#(skip|none)\b'

branches:
  main:
    regex: ^(main|master)$
    is-main-branch: true
    label: ''
    increment: Patch
    prevent-increment:
      of-merged-branch: true
    track-merge-message: true

  dev:
    regex: ^dev$
    label: dev
    mode: ContinuousDelivery
    increment: Minor
    source-branches: [main]
    track-merge-message: true

  feature:
    regex: ^feature[\/-](?<BranchName>[^\/]+)$
    label: feature-{BranchName}
    mode: ManualDeployment
    increment: Minor
    source-branches: [dev]
    track-merge-message: true

  fix:
    regex: ^fix[\/-](?<BranchName>[^\/]+)$
    label: fix-{BranchName}
    mode: ManualDeployment
    increment: Patch
    source-branches: [main]
    track-merge-message: true
